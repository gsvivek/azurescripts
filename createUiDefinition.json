{
	"handler" : "Microsoft.Compute.MultiVm",
	"version" : "0.0.1-preview",
	"parameters" : {
		"basics" : [{
				"name" : "adminUsername",
				"type" : "Microsoft.Compute.UserNameTextBox",
				"label" : "VM Username",
				"toolTip" : "Admin username for the virtual machines.",
				"osPlatform" : "Windows"
			}, {
				"name" : "adminPassword",
				"type" : "Microsoft.Compute.CredentialsCombo",
				"label" : {
					"password" : "VM Password",
					"confirmPassword" : "Confirm password"
				},
				"toolTip" : {
					"password" : "Admin password for the virtual machines."
				},
				"osPlatform" : "Windows"
			}
		],
		"steps" : [{
				"name" : "vmDetails",
				"label" : "VM Details",
				"subLabel" : {
					"preValidation" : "Configure the VM Details",
					"postValidation" : "Done"
				},
				"bladeTitle" : "VM Details",
				"elements" : [{
						"name" : "osDropdown",
						"type" : "Microsoft.Common.DropDown",
						"label" : "Please select the OS",
						"defaultValue" : "Windows Server 2012 R2 Datacenter",
						"toolTip" : "",
						"constraints" : {
							"allowedValues" : [{
									"label" : "Windows Server 2012 R2 Datacenter",
									"value" : "win"
								}, {
									"label" : "SUSE Linux Enterprise Server 12",
									"value" : "suseLin12"
								}, {
									"label" : "SUSE Linux Enterprise Server 11 SP4",
									"value" : "suseLin11"
								}, {
									"label" : "Ubuntu Server 14.04 LTS",
									"value" : "ubuntu"
								}
							]
						}
					}, {
						"name" : "vmSize",
						"type" : "Microsoft.Compute.SizeSelector",
						"label" : "Size",
						"toolTip" : "",
						"recommendedSizes" : [
							"Basic_A2",
							"Standard_A2",
							"Standard_D2"
						],
						"constraints" : {
							"allowedSizes" : [],
							"excludedSizes" : []
						},
						"osPlatform" : "Windows",
						"imageReference" : {
							"publisher" : "MicrosoftWindowsServer",
							"offer" : "WindowsServer",
							"sku" : "2012-R2-Datacenter"
						},
						"count" : 1
					}, {
						"name" : "dwSizeConfirm",
						"type" : "Microsoft.Common.OptionsGroup",
						"label" : "Is you Azure SQL Datawarehouse size <= 1TB",
						"defaultValue" : "Yes",
						"toolTip" : "",
						"constraints" : {
							"allowedValues" : [{
									"label" : "Yes",
									"value" : "Yes"
								}
							]
						}
					}
				]
			}
		],
		"outputs" : {
			"location" : "[location()]",
			"adminUsername" : "[steps('basics').adminUsername]",
			"adminPassword" : "[steps('basics').adminPassword]",
			"vmSize" : "[steps('vmDetails').vmSize]",
			"osDropdown" : "[steps('vmDetails').osDropdown]"
		}
	}
}